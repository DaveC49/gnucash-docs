<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter SYSTEM "gnc-docbookx.dtd">

<!--
      (Do not remove this comment block.)
  Version: 2.0.0
  Last modified: December 7th 2009
       modified: July 9th 2006
  Maintainers:
  Author:

  Translators:
               (translators put your name and email here)
-->
<chapter id="chapter_importing">
  <title>Importing Data into &app;</title>
  <para>This chapter will detail procedures for importing data into &app;.</para>
  <sect1 id="importing-from-files">
  <title>Importing Transactions from Files</title>

  <para>Imported transactions will generally be to a specific account in your account tree. In the following
          this will be referred to as the <emphasis role="bold">import</emphasis> or
          <emphasis role="bold">base</emphasis> account. It may or may not be
          specified in the data being imported, depending on the import format. It is usually the first split
          of a transaction being imported.
  </para>
  <sect1 id="importing-coa-export-format">
    <title> Chart of Accounts Export Format</title>
    <para>The CSV field s for the Chart of Accounts Export is:
      <itemizedlist>
        <listitem><emphasis role="bold">type</emphasis><para>: The type of the account including specialized subtypes
          of the basic top-level accounts Assets, Liabilities, Equity,Income and Expense. One of:
          <itemizedlist>
            <listitem><emphasis role="bold">ASSET</emphasis><para>: Asset account;</para></listitem>
            <listitem><emphasis role="bold">BANK</emphasis><para>: Specialized asset account;</para></listitem>
            <listitem><emphasis role="bold">CASH</emphasis><para>: Specialized asset account;</para></listitem>
            <listitem><emphasis role="bold">STOCK</emphasis><para>: Specialized asset account for tradeable commodities;</para></listitem>
            <listitem><emphasis role="bold">MUTUAL FUND</emphasis><para>: Specialized asset account for mutual funds;</para></listitem>
            <listitem><emphasis role="bold">RECEIVABLE</emphasis><para>: Specialized asset account for Business features;</para></listitem>
            <listitem><emphasis role="bold">LIABILITY</emphasis><para>: Liability Account;</para></listitem>
            <listitem><emphasis role="bold">CREDIT CARD</emphasis><para>: Specialized liability account;</para></listitem>
            <listitem><emphasis role="bold">PAYABLE</emphasis><para>: Specialized liability account for Business features;</para></listitem>
            <listitem><emphasis role="bold">EQUITY</emphasis><para>: Equity account;</para></listitem>
            <listitem><emphasis role="bold">EXPENSE</emphasis><para>: Expense account - temporary equity account;</para></listitem>
            <listitem><emphasis role="bold">INCOME</emphasis><para>: Income account - temporary equity account.</para></listitem>
         </itmeizedlist></para>
        </listitem>
        <listitem><emphasis role="bold">full-name</emphasis><para>: Full account tree path to the account;</para>
        </listitem>
        <listitem><emphasis role="bold">name</emphasis><para>: Name of the account;</para>
        </listitem>
        <listitem><emphasis role="bold">code</emphasis><para>: User specified code used to identify the account;</para>
        </listitem>
        <listitem><emphasis role="bold">Description</emphasis><para>: Description of the account;</para>
        </listitem>
        <listitem><emphasis role="bold">color</emphasis><para>: rgb color code of a color
            displayed in the background of the account tab or on the tab for the account register- format "rgb(nnn,nnn,nnn) 0 &lt;= nnn &lt;= 255";
          </para>
        </listitem>
        <listitem><emphasis role="bold">notes</emphasis><para>: Notes on account usage;</para>
        </listitem>
        <listitem><emphasis role="bold">commoditym</emphasis><para>: Currency or commodity symbol;</para>
        </listitem>
        <listitem><emphasis role="bold">commodityn</emphasis><para>: Whether the previous column is a CURRENCY or the stock exchange name if a COMMODITY;</para>
        </listitem>
        <listitem><emphasis role="bold">hidden</emphasis><para>: Whether the account is hidden or displayed
            in the Accounts tab and drop down lists of accounts in account selection dialogs (T/F);
          </para>
        </listitem>
        <listitem><emphasis role="bold">tax</emphasis><para>: Whether the account is a target account for tax table calculations (T/F);</para>
        </listitem>
        <listitem><emphasis role="bold">placeholder</emphasis><para>: Whether the account is a placeholder account (T/F).</para>
        </listitem>
      </itemizedlist>
      The Chart of Accounts import process is controlled by a simple dialog. After selecting a file to import,
      the only options are the number of header rows to skip and  to choose the separator if something other
      than a comma was used on export. A sample of the first few rows to be formatted is displayed using the options
      selected above. If all is correct step through to the <emphasis role="bold"><guilabel>Import Now</guilabel></emphasis>
      step and click <emphasis role="bold"><guibutton>Apply</guibutton></emphasis> button.
    </para>
  </sect1><!-- id="importing-coa-export-format" -->
  <sect1 id="importing-minimal">
    <title>Importing a Minimal CSV Data Set</title>
    <para>For CSV data to be imported into <application>&app;</application> the data file must contain at least the following fields:
      <itemizedlist>
        <listitem><para><emphasis role="bold">Left click</emphasis> on first row and then
        <emphasis role="bold">Ctrl-Left click</emphasis> on other rows to add to the selection or</para></listitem>
        <listitem><para><emphasis role="bold">Left-click</emphasis> on a first row and then
        <emphasis role="bold">Shift-Left-click</emphasis> on another row to select all rows between them.</para></listitem>
      </itemizedlist>
      <para>then <emphasis role="bold">Right-click</emphasis> to display a popup menu and then select
        <emphasis role="bold">"Assign a transfer account"</emphasis> to open the Account
         Selection dialog. Select the desired destination account and click the <guilabel>OK</guilabel>
         button in the Account Selection dialog.</para>
    </sect3>
    <sect3>
      <title>Completing the Import</title>
    <para>Once you have assigned destination accounts for all the imported transactions using the above methods
      (all row backgrounds will be a light green colour), check that the assigned destination acounts are correct
      and then press the <guilabel>OK</guilabel> button at the bottom of the Generic Import Matcher
      window. The transactions selected for import will have their splits added to the selected source
      and destination accounts.
    </para>
    <para>The choices made for the destination accounts and description/memo fields are remembered and stored and
      used for future imports to the same account to automatically assign a destination account for transaction
      records not containing destination account information.
    </para>
    </sect3>
  </sect2>


  <sect2 id="importing-qif">
    <title>Import QIF</title>
    <para>To import data from Quicken®, MS Money, or other programs that use QIF(Quicken® Interchange Format),
          you must first export your data to a QIF file. One way to do this is to export each account as a
          separate QIF file. An easier way, available in Quicken® 98 and beyond, is to export all accounts at
          once into a single QIF file. Check your program's manual to determine if this option is available.
    </para>
    <sect3><title>To import QIF files:</title><para> </para></sect3>
    <sect3>
      <title>Load all of the QIF files containing data you wish to import</title>
      <para>To do this, select <emphasis role="bold">File -> Import -> Import QIF...</emphasis> from the menu. When the QIF Import dialog
            box appears, click <emphasis role="bold">Next</emphasis> and follow the instructions to guide you through the process of loading
            your files.
      </para>
      <para>This image shows the start of the QIF Import assistant.<!--FIXME put an image of the import druid in --> </para>
      <para>You will be prompted for a filename to load. Use the Select button to select your QIF file and
           click Next to load it. Once the file is loaded, select Load another file if you have more files
           to load. When you have loaded all your QIF files, click Next to continue with the import process.
      </para>
    </sect3>
    <sect3>
      <title>Review the GnuCash accounts to be created.</title>
      <para>The importer then matches up your QIF accounts and categories with GnuCash accounts and gives
            you a brief description of the matching process. Clicking Next will bring you to a view comparing
            your QIF accounts with the corresponding GnuCash accounts created. To change an account name, select
            the row containing that account name and edit the name in the dialog box provided. Click Next when
            you have finished making changes, and proceed through a similar category matching process. QIF
            income and expense categories import as GnuCash income and expense accounts <!--(see section 3.1 FIXME for
            more on this).--> Make changes to these account names if necessary, and click Next to continue.
      </para>
      <para><emphasis role="bold">Note:</emphasis> If you are not sure what changes are needed, it is safe to
            accept the GnuCash account names. It is easy to edit the accounts later if you find you need to make
            a change.
      </para>
      <para>From the drop-down list, select a standard currency to be used for the  imported accounts and click <emphasis role="bold">Next</emphasis>
            to continue. If you have stocks, mutual funds, or other securities, you will be prompted for additional
            information. The importer dialog will ask for the exchange or listing (i.e. Nasdaq), the security's
            full name, and the ticker symbol. If you do not have this information handy, you can edit the account
            information later, once the import is complete. Click <emphasis role="bold">Next</emphasis> to continue.
      </para>
    </sect3>
    <sect3>
      <title>Tell GnuCash to import the data.</title>
      <para>The last step is the import. Once you have verified your account names and investment information,
            click <emphasis role="bold">Finish</emphasis> in the Update your GnuCash accounts page to complete the import process. Depending
            upon the size of your file, the import might take a few minutes to complete, so a progress bar
            displays the percentage finished. When the import process is complete, GnuCash will return you
            to the main window, which should now display the names of the accounts you imported.
      </para>
    </sect3>
  </sect2>

  <!--
  <sect2 id="importing-qif-from-help">
    <title>Importing Quicken QIF Files</title>

        <para>Many users seek to import their financial data from Quicken.</para>
        <para>This Assistant helps you import Quicken <acronym>QIF</acronym> files. It will appear if
        you choose <guibutton>Import my QIF files</guibutton> in the
        <guilabel>Welcome to &appname;!</guilabel> menu, as well as from <menuchoice><guimenu>File</guimenu>
        <guisubmenu>Import ...</guisubmenu> <guimenuitem>Import QIF...</guimenuitem></menuchoice>.</para>

            <para>The import process involves several steps, which are presented in a
                series of screens that are described below.</para>

      <orderedlist>
      <listitem>

            <para><guilabel>Import QIF files</guilabel> screen briefly describes the assistant.
            The three buttons at the very bottom of the screen are used throughout the process
            to navigate.</para>

          <itemizedlist>
            <listitem>
              <para><guibutton>Cancel</guibutton>: exit the process and cancel importing
              <acronym>QIF</acronym> files.</para>
              <warning>
                <para>If you choose to cancel at any point in the assistant, any selections you have made up to
                this point will be lost.</para>
              </warning>
            </listitem>

            <listitem>
              <para><guibutton>Back</guibutton>: return to the previous screen.</para>
            </listitem>

            <listitem>
              <para><guibutton>Next</guibutton> move to the next screen.</para>
            </listitem>
          </itemizedlist>

      </listitem>
      <listitem>

            <para><guilabel>Select a QIF file to load</guilabel> allows you to choose the
            source <acronym>QIF</acronym> file. The <guibutton>Select...</guibutton> button on this
            screen is used to access a list of files in your system. The
            <guibutton>Select...</guibutton> button brings up the <guilabel>Select
            QIF File</guilabel> dialog.</para>

            <para>Navigate to where you have stored your <acronym>QIF</acronym> files and select the
            first one then click <guibutton>Import</guibutton>. The next screen will
            display it in the <guilabel>Select a QIF File to Load</guilabel>
            field.</para>

            <note>
              <para>If the file you are loading does not have an <acronym>QIF</acronym> date listed
              in it you will see the <guilabel>Set a date format for this QIF file</guilabel>
              screen. Select the proper format from the pull down list and continue.</para>
            </note>

            <note>
              <para>If the file you are loading does not have an account name listed
              in it you will see the <guilabel>Set the default QIF account
              name</guilabel> screen. Otherwise you will skip this screen and go on
              to the screen in the next section that shows loaded <acronym>QIF</acronym> files.</para>

              <itemizedlist>
                <listitem>
                  <para>The <guilabel>Account name:</guilabel> field is used to set
                  an account name for this <acronym>QIF</acronym> file.</para>
                </listitem>
              </itemizedlist>
            </note>

      </listitem>
      <listitem>
            <para>The next screen shows you the <guilabel>QIF files you have
            loaded</guilabel>. You can use this screen to return to the previous
            screen and load more <acronym>QIF</acronym> files. It will also let you unload any files
            you have loaded by mistake.</para>

            <itemizedlist>
              <listitem><emphasis role="bold">+ve</emphasis><para>: Debit to the account For an Asset or Expense type account this is an increase in
                the balance of the account and for Liability, Equity and Income type accounts it is a decrease in the account balance;</para>
              </listitem>
              <listitem><emphasis role="bold">-ve</emphasis><para>: Credit to the account For an Asset or Expense type account this is an decrease in
                the balance of the account and for Liability, Equity and Income type accounts it is a increase in the account balance;</para>
              </listitem>
            </itemizedlist>

            <para>When you have selected all the <acronym>QIF</acronym> files to be imported, click the
            <guibutton>Forward</guibutton> button.</para>

      </listitem>
      <listitem>

            <para>Depending on the type of data contained in the
            <acronym>QIF</acronym> files to be imported, you may see only one or all of the following screens:</para>

      <variablelist termlength="8">
        <varlistentry>
        <term><guilabel>Accounts and stock holdings</guilabel></term>
          <listitem>
            <para>This screen gives a description of the <guilabel>Accounts and stock
            holdings</guilabel> matching process on the following <guilabel>Match QIF
            accounts with &appname; accounts</guilabel> screen.</para>

            <tip>
              <para>This and other informational screens in the
              <guilabel>Import QIF files</guilabel> assistant
              can be turned off in the <guilabel>Online Banking</guilabel> tab (see <xref linkend="configuring-preferences-online-banking"/>)
              under <guilabel>&appname; Preferences</guilabel>.</para>
            </tip>

            <para>The next screen lets you <guilabel>Match QIF accounts with &appname;
            accounts</guilabel>. You will see a list of <guilabel>QIF account
            names</guilabel> on the left and suggested <guilabel>&appname; account
            names</guilabel> on the right. The <guilabel>New?</guilabel> column
            indicates if the &app; account name will be created by the <acronym>QIF</acronym>
            Import.</para>

            <para>To change the &app; account to a different one select the <acronym>QIF</acronym>
            account. A screen will pop up to select another account or create a new
            one.</para>

            <itemizedlist>
              <listitem>
                <para>Select an account from the list to choose a already existing
                account.</para>
              </listitem>

              <listitem>
                <para>The <guibutton>New Account</guibutton> button allows you to
                add a new account name as a sub-account (child of selected) of the
                selected account.</para>
              </listitem>

              <listitem>
                <para>The <guibutton>OK</guibutton> button is used to confirm your
                selection.</para>
              </listitem>

              <listitem>
                <para>The <guibutton>Cancel</guibutton> button is used to exit the
                dialog without using any changes you have made.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
        <term><guilabel>Income and Expense categories</guilabel></term>
          <listitem>
            <para>This screen gives a description of the <guilabel>Income and
            Expense categories</guilabel> matching process on the following <guilabel>Match
            QIF categories with &appname; accounts</guilabel> screen.</para>

            <tip>
              <para>This and other informational screens in the
              <guilabel>Import QIF files</guilabel> assistant
              can be turned off in the <guilabel>Online Banking</guilabel> tab (see <xref linkend="configuring-preferences-online-banking"/>)
              under <guilabel>&appname; Preferences</guilabel>.</para>
            </tip>

            <para>The next screen lets you <guilabel>Match QIF categories with
            &appname; accounts</guilabel>. You will see a list of <guilabel>QIF
            category names</guilabel> on the left and suggested <guilabel>&appname;
            account names</guilabel> on the right. The <guilabel>New?</guilabel>
            column indicates if the &app; account name will be created by the QIF
            Import.</para>

            <para>To change the &app; account to a different one select the QIF
            category. A dialog will pop up to select another account or create a new
            one.</para>

            <itemizedlist>
              <listitem>
                <para>Select an account from the list to choose a already existing
                account.</para>
              </listitem>

              <listitem>
                <para>The <guibutton>New Account</guibutton> button allows you to
                add a new account name as a sub-account (child of selected) of the
                selected account.</para>
              </listitem>

              <listitem>
                <para>The <guibutton>OK</guibutton> button is used to confirm your
                selection.</para>
              </listitem>

              <listitem>
                <para>The <guibutton>Cancel</guibutton> button is used to exit the
                dialog without using any changes you have made.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <varlistentry>
        <term><guilabel>Payees and memos</guilabel></term>
        <listitem>
            <para>This screen gives a description of the <guilabel>Payees and
            memos</guilabel> matching process on the following <guilabel>Match payees/memos to
            &appname; accounts</guilabel> screen.</para>

            <tip>
              <para>This and other informational screens in the
              <guilabel>Import QIF files</guilabel> assistant
              can be turned off in the <guilabel>Online Banking</guilabel> tab (see <xref linkend="configuring-preferences-online-banking"/>)
              under <guilabel>&appname; Preferences</guilabel>.</para>
            </tip>

            <para>The next screen lets you <guilabel>Match payees/memos to &appname;
            accounts</guilabel>. You will see a list of <guilabel>QIF payee/memo
            names</guilabel> on the left and suggested <guilabel>&appname; account
            names</guilabel> on the right. The default &app; account used is
            called <guilabel>Unspecified</guilabel>. The <guilabel>New?</guilabel> column indicates if
            the &app; account name will be created by the QIF Import.</para>

            <para>To change the &app; account to a different one select the QIF
            payee/memo. A dialog will pop up to select another account or create a
            new one.</para>

            <itemizedlist>
              <listitem>
                <para>Select an account from the list to choose a already existing
                account.</para>
              </listitem>

              <listitem>
                <para>The <guibutton>New Account</guibutton> button allows you to
                add a new account name as a sub-account of the selected
                account.</para>
              </listitem>

              <listitem>
                <para>The <guibutton>OK</guibutton> button is used to confirm your
                selection.</para>
              </listitem>

              <listitem>
                <para>The <guibutton>Cancel</guibutton> button is used to exit the
                dialog without using any changes you have made.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
      </variablelist>

      </listitem>
      <listitem>

            <para>The next screen allows you to <guilabel>Enter the QIF file
            currency</guilabel>. The drop down list defaults to the currency
            configured in the <guilabel>Accounts</guilabel> tab (see <xref linkend="configuring-preferences-accounts"/>) under
            <guilabel>&appname; Preferences</guilabel>. If you wish the new accounts
            to use a different currency, select one from the list.</para>

            <para>When you have selected the currency, click the
            <guibutton>Forward</guibutton> button.</para>

      </listitem>
      <listitem>

            <para>Depending on the type of data contained in the
            <acronym>QIF</acronym> files to be imported, you may or may not see one or more of the following screens:</para>

      <variablelist termlength="8">
        <varlistentry>
        <term><guilabel>Tradable Commodities</guilabel></term>
          <listitem>
            <para>This screen gives a description of the <guilabel>Tradable
            Commodities</guilabel> process on the screen.</para>

            <tip>
              <para>This and other informational screens in the
              <guilabel>Import QIF files</guilabel> assistant
              can be turned off in the <guilabel>Online Banking</guilabel> tab (see <xref linkend="configuring-preferences-online-banking"/>)
              under <guilabel>&appname; Preferences</guilabel>.</para>
            </tip>

            <para>A series of screens, one for each of the stock, mutual fund, or
            commodity, displays the exchange, full name, and symbol for each of the commodities
            listed in the <acronym>QIF</acronym> file you are importing so that you can
            check them before proceeding.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
        <term><guilabel>Match duplicate transactions</guilabel></term>
          <listitem>
            <para>This screen gives a description of the <guilabel>Match
            duplicate transactions</guilabel> process on the following <guilabel>Select
            possible duplicates</guilabel> screen.</para>

            <tip>
              <para>This and other informational screens in the
              <guilabel>Import QIF files</guilabel> assistant
              can be turned off in the <guilabel>Online Banking</guilabel> tab (see <xref linkend="configuring-preferences-online-banking"/>)
              under <guilabel>&appname; Preferences</guilabel>.</para>
            </tip>

            <para>The next screen lets you <guilabel>Select possible duplicate
            transactions</guilabel>. Imported transactions are shown on the left
            panel and possible matches to each selected transaction are shown on the
            right.</para>

            <itemizedlist>
              <listitem>
                <para>The left panel shows the list of Imported transactions to
                select from for matching duplicates</para>
              </listitem>

              <listitem>
                <para>The right panel shows the list of <emphasis>possible</emphasis> duplicates for the
                selected imported transaction. Select the one that most closely
                matches</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
      </variablelist>

      </listitem>
      <listitem>

            <para>The last screen, <guibutton>Update your &appname;
            accounts</guibutton>, gives you a list of three choices to finish the
            assistant.</para>

          <itemizedlist>
            <listitem>
              <para><guibutton>Cancel:</guibutton> exit the process and cancel importing
              <acronym>QIF</acronym> files.</para>
              <warning>
                <para>If you click this button, any selections you have made up to
                this point will be lost.</para>
              </warning>
            </listitem>

            <listitem>
              <para><guibutton>Back:</guibutton> brings up the previous screen so
              that you can change a previous selection until the first screen.</para>
            </listitem>

            <listitem>
              <para><guibutton>Forward:</guibutton> imports the data and creates the
              accounts you have specified.</para>
            </listitem>
          </itemizedlist>

      </listitem>
      </orderedlist>

            <para>You should now have successfully imported your accounts.</para>

            <tip>
              <para>Imported transactions might need to be <emphasis role="strong">reconciled</emphasis>.
              This process is described in the &app; Tutorial and Concepts guide.</para>
            </tip>

        </sect2>
      -->

  <sect2 id="importing-ofx">
    <title>Import OFX/QFX</title>
    <para>This opens a file selection dialog. Navigate to the file you wish to import, select a file with
      the appropriate extension (.ofx  or .qfx), then press the <emphasis role="bold">Import</emphasis> button.</para>
    <para>Gnucash opens an Account Selection dialog to select an account in your CoA corresponding to data source. Select
      the appropriate account from the account tree and press the <emphasis role="bold">OK</emphasis> button. On subsequent import of files from the
      same source (identified by tags in the file), the source is remembered and the account selection dialog is not
      displayed.</para>
    <para>The generic import transaction matcher dialog is opened next. See the <link linkend="importing-matcher">
          Import Matcher</link> section (common to both OFX/QFX and CSV import formats) following the Import CSV
          section to continue the import process.
    </para>
    <para> The following is a sample of the data in a minimal CSV data set with no account to import specified and with column headers in the first row:
    <literallayout>
Date,Description,Amount Num.
12/09/2016,Opening Balance-Checking,15000
12/09/2016,Salary ,4000
13/09/2016,Supermarket,-153.3
14/09/2016,Topup cash in wallet,-50
16/09/2016,1000 Shares Acme Copr All Ord,-13254.95
20/09/2016,Supermarket,-123.4
20/09/2016,Transfer of Funds from Singapore Saving account,10000
23/09/2016,Loan Repayment,-1540
24/09/2016,Credit card payment,-1500
26/09/2016,Supermarket,-115
10/10/2016,Supermarket,-123.65
12/10/2016,Salary ,4000
15/10/2016,Pharmacy,-11.5
30/10/2016,Sale 500 shares AcmeCorp All Ord,7068.75
    </literallayout>
    </para>
    <para>
      <figure pgwide="1">
        <title>Import Preview pane - Minimal data import</title>
        <screenshot id="import-preview">
          <mediaobject>
            <imageobject role="html">
              <imagedata fileref="figures/import_Preview_minimal_guide.png" format="PNG" srccredit="David Cousens" width="510"></imagedata>
            </imageobject>
            <imageobject role="fo">
                        <imagedata fileref="figures/import_Preview_minimal_guide.png" format="PNG" srccredit="David Cousens"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>
      The screenshot above shows the Import Preview pane after opening the file containing the above data.
      The circled setting are those that must be set to import this data:
      <itemizedlist>
        <listitem><emphasis role="bold">Account</emphasis><para>: As no import account is specified in the data
          set this must be set to the account in the <application>&app;</application> account tree into which
          you wish to import the data. Here it is set to Assets:CurrentAssets:Checking Account;</para>
        </listitem>
        <listitem><emphasis role="bold">Date Format</emphasis><para>: Set the date format to the convention used
          in the data file. This file was created with the day-month-year format common in much of Europe, South
          and central America, South East Asia and Australia. In the US month-day-year is more commonly used. Canada
          China, Korea, Japan, Hungary and Lithuania use a year-month-day format (ISO 8601), generally better for
          alphanumerical sorting;</para>
        </listitem>
        <listitem><emphasis role="bold">Leading Lines to SKip</emphasis><para>: Set at +1 to skip importing the
          first line which contains column header names. In the preview pane the row containg the header information
          is displayed with the text strikethrough attribute;</para>
        </listitem>
        <listitem><emphasis role="bold">Date</emphasis><para>: Assigning the Date column header to the first column
          assigns this column to be imported as the transaction date. Note the header information in the file is not
          matched automatically, it has to be assigned to this column by selecting the data field for the transaction
          from the drop down list which is displayed by clicking on the boxes, initially labelled None, with the downward
          arrow to the right of the box;</para>
        </listitem>
        <listitem><emphasis role="bold">Description</emphasis><para>: As for the Date the Description column header
          must be applied to the column which contains the transaction description information;</para>
        </listitem>
        <listitem><emphasis role="bold">Deposit</emphasis><para>: This header is applied to the column containing the
          information about the amount of the transaction. Internally <application>&app;</application> recognises
          positive amounts as debit entries and negative amounts as credit entries. If your data source uses an
          alternative convention you may have to assign the <emphasis role="bold">Withdrawal</emphasis> column
          heading to this column instead.  Some sources may use separate columns for debit and credit entries in
          which case the Deposit and Withdrawal headers should be assigned to the appropriate data column.</para>
          <note><para> A credit in a record from the bank for your savings or check account represents an increase
            in the balance. It is recorded as a credit because for the bank, your account is a liability whereas in
            your accounts in <application>&app;</application> your savings or credit account is an asset and is
            increased by a debit entry.</para>
          </note>
        </listitem>
      </itemizedlist>
    </para>
    <para>
      <figure pgwide="1">
        <title>Match Transactions pane - Minimal data import</title>
        <screenshot id="import-matcher">
          <mediaobject>
            <imageobject role="html">
              <imagedata fileref="figures/import-match-transactions_1.png" format="PNG" srccredit="David Cousens" width="510"></imagedata>
            </imageobject>
            <imageobject role="fo">
                        <imagedata fileref="figures/import-match-transactions_1.png" format="PNG" srccredit="David Cousens"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>
      The Match Transactions pane displaystham matching information. In this case the first seven transactions
      have been matched to existing transactions in the Checking Account in the data file opened in <application>&app;</application>.
      This is indicated by the R checkbox being checked, the background of the rows being green and a high match score with the three red bars, the two yellow bars and all
      three green bars being displayed along with  "Reconcile (auto) match" displayed in the Info column.
    </para>
    <note><para>Although the term reconcile is used, unless the imported data explicitly contains a reconciled data field, the imported
      record is marked as cleared ("c") not reconciled ("y") when imported.</para></note> <!--FIXME need to check this behavior and correct if necessary -->
    <para>The next two transactions with the U+R checkbox checked are also matched to two existing transactions but in this case
      the dates had ben altered to not match exactly. These are marked for Update to adjust the dates recorded in <application>&app;</application>
      to the values of the imported transaction. This is indicated by the U+R checkbox being checked, the green background to the rows and only two green bars indicating a slightly
      poorer match score and the "Update and reconcile (auto) match" message in the Info column. Double clicking on either of these transactions
      will display the Match Picker dialog.
      <figure pgwide="1">
        <title>Match Transactions pane - Minimal data import</title>
        <screenshot id="import-match-picker">
          <mediaobject>
            <imageobject role="html">
              <imagedata fileref="figures/import-match-picker_1.png" format="PNG" srccredit="David Cousens" width="510"></imagedata>
            </imageobject>
            <imageobject role="fo">
                        <imagedata fileref="figures/import-match-picker_1.png" format="PNG" srccredit="David Cousens"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>
      The information for the imported transactions first split, in this case the only one, is displayed in the upper panel of the
      dialog and the splits for any matching transactions in the Checking account in  the <application>&app;</application> data file
      are displayed in the lower panel ( in this case only one) with the selected match highlighted. It is clear that the only
      difference is the date and it is only out by one day. The Import Matcher searches transactions within a 42 day/6 week interval
      either side of the import date. It is possible to have matches for monthly payments for a previous payment so it pays to check
      that the record to be updated is not a previous such payment. If you feel another displayed transaction in the lower panel is a better
      match, you can select it and then click OK to returm to the Import Matcher. If you do not want to update the information but do not
      wish to import the transaction record you can check the "R" checkbox. If you decide the transaction to be imported does not
      match an existing record at all you could check the "A" checkbox to mark the transaction to be imported.
    </para>
    <para>
      The last five transactions do not match any existing transactions. The "A" checkbox is checked to indicate they are to be imported.
      The gold background indicates that an account for the second split of the transaction was not specified in the import data and
      in this case as no data had been imported previously to this account, there was no previous matching information to automatically assign
      a transfer account to the transaction.
    </para>
    <para>The first two of these transactions are for items in the same expense category. Multiple rows can be selected by a
      <emphasis role="bold"><keycombo><keycap>Ctrl</keycap> <mousebutton>Left</mousebutton></keycombo> click</emphasis> on each row to select them
      (or <emphasis role="bold"><keycombo><keycap>Ctrl</keycap> <mousebutton>Left</mousebutton></keycombo> click</emphasis> and drag
      or <emphasis role="bold"><keycombo><keycap>Ctrl</keycap> <mousebutton>Left</mousebutton></keycombo> click</emphasis> on one row followed by a
      <emphasis role="bold"><keycombo><keycap>Shift</keycap> <mousebutton>Left</mousebutton></keycombo>click</emphasis> on another row to select all
      rows between them). Once the desired rows are selected a
      <emphasis role="bold"><mousebutton>Right</mousebutton> click</emphasis> will bring up a popup menu. A <emphasis role="bold"><mousebutton>Left</mousebutton></keycombo> click</emphasis> on
      the menu item will bring up an accont selection dialog and apply the selected account as the transfer account for the second
      split of the selected imported transactions.
    </para>
    <para>A <emphasis role="bold">double <mousebutton>Left</mousebutton> click</emphasis> on a single transaction row will select a single row and bring up
      the account selection dialog and assign the selected account to that transaction.
    </para>
    <para>
      <figure pgwide="1">
        <title>Match Transactions pane - transfer accounts assigned and ready to import</title>
        <screenshot id="import-match-picker">
          <mediaobject>
            <imageobject role="html">
              <imagedata fileref="figures/import-match-transactions_2.png" format="PNG" srccredit="David Cousens" width="510"></imagedata>
            </imageobject>
            <imageobject role="fo">
                        <imagedata fileref="figures/import-match-transactions_2.png" format="PNG" srccredit="David Cousens"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>
      The background for all rows is now a light green indicating that they are ready to be imported into the <application>&app;</application>
      register specified. If you check the register you will see the transactions to be imported already are displayed in the register, however
      they do not have the transfer account displayed and they are not yet stored in the data file. You may have to click somewhere in the
      register to display the transactions to be imported.
      <figure pgwide="1">
        <title>Example of the display of a transaction in the register while the import Matcher is still open</title>
        <screenshot id="import-register-preimport">
          <mediaobject>
            <imageobject role="html">
              <imagedata fileref="figures/import-register-after-match-before-import.png" format="PNG" srccredit="David Cousens" width="510"></imagedata>
            </imageobject>
            <imageobject role="fo">
                        <imagedata fileref="figures/import-register-after-match-before-import.png" format="PNG" srccredit="David Cousens"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>
       This can can be useful for identifying duplicated transactions in the import. When
      you are happy that you have correctly configured the import, <emphasis role="bold"><mousebutton>Left</mousebutton> click</emphasis> on the
      <emphasis role="bold"><guibuton>Apply</guibutton></emphasis> to import the transactions. After the import has completed the transaction above
      now has the transfer account assigned.
      <figure pgwide="1">
        <title>The same transaction displayed after the import process has completed</title>
        <screenshot id="import-register-postimport">
          <mediaobject>
            <imageobject role="html">
              <imagedata fileref="figures/import-register-after-match-after-import.png" format="PNG" srccredit="David Cousens" width="510"></imagedata>
            </imageobject>
            <imageobject role="fo">
                        <imagedata fileref="figures/import-register-after-match-after-import.png" format="PNG" srccredit="David Cousens"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>
    </para>
    <para>The major difficulty with the Simple Layout export and importing in the single line mode can be illustrated by examining the transaction for
      the sale of stock. The original transaction shown here in the Acme Corp stock account register
      <figure pgwide="1">
        <title>Original stock transaction prior to export in single line mode</title>
        <screenshot id="">
          <mediaobject>
            <imageobject role="html">
              <imagedata fileref="figures/import-stock-reg-original.png" format="PNG" srccredit="David Cousens" width="510"></imagedata>
            </imageobject>
            <imageobject role="fo">
                        <imagedata fileref="figures/import-stock-reg-original.png" format="PNG" srccredit="David Cousens"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>
      had splits for Fees and Commisions and a sale price specified whereas the imported transaction in single line mode is unable to provide this information
      on import.
      <figure pgwide="1">
        <title>Stock transaction after importing in single line mode.</title>
        <screenshot id="import-stockreg-singleline">
          <mediaobject>
            <imageobject role="html">
              <imagedata fileref="figures/import-stock-reg-after-single-line-import.png" format="PNG" srccredit="David Cousens" width="510"></imagedata>
            </imageobject>
            <imageobject role="fo">
                        <imagedata fileref="figures/import-stock-reg-after-single-line-import.png" format="PNG" srccredit="David Cousens"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>
      This has to be corrected manually where the file to be imported does not contain the data. An alternative is to use the multi-line multisplit format described in the next section.
  </sect1>
  <sect1 id="importing-multiline">
    <title>Importing GnuCash Export Format Multi-line Multi-split CSV Data</title>
    <para>In this example we are going to import the same data previously imported as a minimal data set using
      the data exported in the GnuCash Export Format multiline multisplit data format into new data file. The
      GnuCash Export data Format is described in detail in the &app;Help Manual Section on exporting transaction data.
    </para>
    <para>The previously exported CSV data to be imported into the new file is:
      <literallayout>
Date,Transaction ID,Number,Description,Notes,Commodity/Currency,Void Reason,Action,Memo,Full Account Name,Account Name,Amount With Sym,Amount Num.,Reconcile,Reconcile Date,Rate/Price
12/09/2016,dd6839ac4ae9411b911a6a1f973d4b65,,Opening Balance-Checking,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,"$15,000.00","15,000.00",n,,1.00
,,,,,,,,,Equity:Opening Balances,Opening Balances,"-$15,000.00","-15,000.00",n,,1.00
12/09/2016,e140f32b356948a68b812a946810858d,,Salary ,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,"$4,000.00","4,000.00",n,,1.00
,,,,,,,,,Assets:Current Assets:Savings Account,Savings Account,"$1,350.00","1,350.00",n,,1.00
,,,,,,,,,Income:Salary,Salary,"-$5,350.00","-5,350.00",n,,1.00
13/09/2016,9b459c610196496689a526bf6772f29d,,Supermarket,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,-$153.30,-153.30,n,,1.00
,,,,,,,,,Expenses:Groceries,Groceries,$153.30,153.30,n,,1.00
14/09/2016,91ec1cad5b804fc49eb274a4bd1d70b8,,Topup cash in wallet,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,-$50.00,-50.00,n,,1.00
,,,,,,,,,Assets:Current Assets:Cash in Wallet,Cash in Wallet,$50.00,50.00,n,,1.00
16/09/2016,fd0f82af92524269aaa409ef7e2b5d60,,1000 Shares Acme Copr All Ord,,CURRENCY::AUD,,,Purchase 1000 shares Acme Corp All Ord,Assets:Current Assets:Checking Account,Checking Account,"-$13,254.95","-13,254.95",n,,1.00
,,,,,,,Buy,Purchase,Assets:Investments:Brokerage Account:Stock:Acme Corp,Acme Corp,"1,000 ACM","1,000",n,,13.25
,,,,,,,,Brokerage charges,Expenses:Investments:Brokerage Fees and Commissions,Brokerage Fees and Commissions,$4.95,4.95,n,,1.00
20/09/2016,93a7be5f382948b8bb7303530a3df19b,,Supermarket,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,-$123.40,-123.40,n,,1.00
,,,,,,,,,Expenses:Groceries,Groceries,$123.40,123.40,n,,1.00
20/09/2016,a6fda7a9c1e34b1da03314bc61b22340,,Transfer of Funds from Singapore Saving account,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,"$10,000.00","10,000.00",n,,1.00
,,,,,,,,,Assets:Current Assets:Savings Account SGD,Savings Account SGD,"-S$9,440.20","-9,440.20",n,,1 + 2799/47201
23/09/2016,13c2019c80af43c1afe31098cea882bc,,Loan Repayment,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,"-$1,540.00","-1,540.00",n,,1.00
,,,,,,,,,Liabilities:Loans:Mortgage Loan,Mortgage Loan,"$1,540.00","1,540.00",n,,1.00
24/09/2016,6420a5f21edc4f558a93ca666b69f74c,,Credit card payment,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,"-$1,500.00","-1,500.00",n,,1.00
,,,,,,,,,Liabilities:Credit Card,Credit Card,"$1,500.00","1,500.00",n,,1.00
26/09/2016,eb17c2ac66f14f5286d7e2dac806070a,,Supermarket,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,-$115.00,-115.00,n,,1.00
,,,,,,,,,Expenses:Groceries,Groceries,$115.00,115.00,n,,1.00
10/10/2016,90356001727f4652959068f5b21c33c1,,Supermarket,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,-$123.65,-123.65,n,,1.00
,,,,,,,,,Expenses:Groceries,Groceries,$123.65,123.65,n,,1.00
12/10/2016,d819158b019641699e5db081c6a2bef7,,Salary ,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,"$4,000.00","4,000.00",n,,1.00
,,,,,,,,,Assets:Current Assets:Savings Account,Savings Account,"$1,350.00","1,350.00",n,,1.00
,,,,,,,,,Income:Salary,Salary,"-$5,350.00","-5,350.00",n,,1.00
15/10/2016,1f2dd413a8d54983b3708d818e0478d0,,Pharmacy,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,-$11.50,-11.50,n,,1.00
,,,,,,,,,Expenses:Medical Expenses,Medical Expenses,$11.50,11.50,n,,1.00
30/10/2016,21da3fe590a949d882397b36bef63cd1,,Sale 500 shares AcmeCorp All Ord,,CURRENCY::AUD,,,,Assets:Current Assets:Checking Account,Checking Account,"$7,068.75","7,068.75",n,,1.00
,,,,,,,Buy,,Expenses:Commissions,Commissions,$181.25,181.25,n,,1.00
,,,,,,,Sell,,Assets:Investments:Brokerage Account:Stock:Acme Corp,Acme Corp,-500 ACM,-500,n,,14.5
      </literallayout>
    </para>
    <para>The exported field headers are given in the first line of data. Each individual transaction record begins with a
      data field (dd/mm/yyyy in the example - this may differ in your locale). The 7 fields between Date and Void Reason are
      common transaction fields for all splits. These fields are blank for the subsequent splits of the transaction as
      indicated by the leading commas on subsequent lines. The 9 fields from Action to the end of the line are associated
      with a specific split of the transaction. The data for the first split to the account data was exported from is present
      in the first line following the transaction common data. The subsequent lines of each transaction containing the other
      splits are blank for the first 7 fields and only contain data for the last 9 fields. Successive commas indicate a blank
      field in the record.  The book currency for the sample is AUD - Australian dollars).
    </para>
    <para>The data sample has the following transaction records in order:
      <table frame="all" colsep="1" rowsep="1">
        <tgroup cols="2">
          <thead>
            <row><entry>Transaction Number></entry><entry>Transaction Description</entry></row>
          </thead>
          <tbody>
            <row><entry>1</entry><entry>opening balance transaction</entry></row>
            <row><entry>2</entry><entry>income split to 2 accounts</entry></row>
            <row><entry>3</entry><entry>purchase</entry></row>
            <row><entry>4</entry><entry>asset transfer</entry></row>
            <row><entry>5</entry><entry>stock purchase 1000 shares</entry></row>
            <row><entry>6</entry><entry>purchase</entry></row>
            <row><entry>7</entry><entry>foreign currency transfer SGD->AUD</entry></row>
            <row><entry>8</entry><entry>loan repayment</entry></row>
            <row><entry>9</entry><entry>credit card payment</entry></row>
            <row><entry>10</entry><entry>purchase</entry></row>
            <row><entry>11</entry><entry>purchase</entry></row>
            <row><entry>12</entry><entry>income - split to 2 account</entry></row>
            <row><entry>13</entry><entry>purchase</entry></row>
            <row><entry>14</entry><entry>stock sale 500 shares</entry></row>
          </tbody>
        </tgroup>
      </table>
    </para>
    <para> These records are to be imported to a newly opened datafile selecting the Common Accounts, Investment Accounts and Home Mortgage
      Loan Accounts in the Account heirarchy setup. To begin the import select <menuchoice><guimenu>File</guimenu>-><guisubmenu>Import</guisubmenu>
      -><guimenuitem>Import Transactions from CSV<guimenuitem></menuchoice> from the menu to open the Transaction Import Assistant. Use the
      <guibutton>Next</guibutton> button to open the <guilabel>Select File for Import<guilabel> step dialog and navigate to the file location,
      select the file to be imported. The Import Preview dialog will open with its default settings (No Settings) as shown in
      <xref linkend='import-preview-multisplit-001'></xref>.
    </para>
    <figure id='import-preview-multisplit-001' pgwide="1">
    <title>Import Preview window importing multi-split data - default import settings</title>
    <screenshot>
      <mediaobject>
        <imageobject role="html">
          <imagedata fileref="figures/import-multisplit-Import Preview_001.png" format="PNG"
                   srccredit="David Cousens" width="510px" />
        </imageobject>
        <imageobject role="fo">
          <imagedata fileref="figures/import-multisplit-Import Preview_001.png" format="PNG"
                   srccredit="David Cousens" />
        </imageobject>
        <caption><para>The Import Preview window on opening showing its default importing settings.</para>
        </caption>
      </mediaobject>
    </screenshot>
    </figure>
    <para> Select <guilabel>GnuCash Export Format</guilabel>
      from the dropdown menu in the <guilabel>Load and Save Settings<guilabel> combo box. This will select most of the settings you will
      require automatically. Note that <gulabel>Multi-split</guilabel> is checked, the <guilabel>Leading Lines to Skip</guilabel> is set to 1
      and the <guilabel>Date Format</guilabel> is set to 'y-m-d' while the date format in the data is "d-m-y". The first data line indicates a parsing error
      (the line has a pink background colour and a red "-" symbol at the start of the line. Selecting the 'd-m-y" in the <guilabel>Date Format</guilabel>
      combobox will clear the error. The header information in the first line of the import data will appear in strikethrough format to indicate
      that it will not be imported. The column headers displayed in the dropdown list boxes will be matched to the columns with the hbeaders of
      the same name in the import data. The <guilabel>File Format</guilabel> will have the <guilabel>Separators</guilabel> radio button selected
      and the <guilabel>Comma (,)</guilabel> checkbox checked. In the <guilabel>Miscellaneous</guilabel> settings, <guilabel>Encoding</guilabel>
      is normally set to 'Unicode (UTF-8)', <gulabel>Currency Format</guilabel> to 'Locale', <guilabel>Trailing Lines to Skip</guilabel> to '0'
      and <guibalel>Skip alternate lines</guilabel> is unchecked. The <guilabel>Skip Errors</guilabel> checkbox is unchecked - if checked any lines
      with parse errors will not be imported at all.
    </para>
    <para> The Import Preview window with the required setting to import the multiline multisplit data is shown in <xref linkend='import-preview-multisplit-002'></xref>
    </para>
    <figure id='import-preview-multisplit-002' pgwide="1">
    <title>Import Preview window importing multi-split data - import settings for the import of multisplit data</title>
    <screenshot>
      <mediaobject>
        <imageobject role="html">
          <imagedata fileref="figures/import-multisplit-Import Preview_002.png" format="PNG"
                   srccredit="David Cousens" width="510px" />
        </imageobject>
        <imageobject role="fo">
          <imagedata fileref="figures/import-multisplit-Import Preview_002.png" format="PNG"
                   srccredit="David Cousens" />
        </imageobject>
        <caption><para>The Import Preview window with GnuCash Export Format settings and correct Date Format settings selected.</para>
        </caption>
      </mediaobject>
    </screenshot>
    </figure>
    <para> Clicking on the <guibutton>Next</guibutton> button will then open the <guilabel>Match Import and GnuCash Accounts</guilabel>
      window. As this import is to a new file to which data has not previously been imported &app; does not assume that the account names
      in the import data are necessarily the accounts in the &app; account heirarchy to which you wish to import the data, even though the
      account names may actually be the same as indicated in <xref linkend='import-multisplit-match-import-account-001'></xref> by the
      <guilabel>No Linked Account</guilabel> value in the <guilabel>Account Name</guilabel> column against the account names in the
      imported data shown in the <guilabel>Account ID</guilabel> column.
    </para>
    <figure id='import-multisplit-match-import-account-001' pgwide="1">
    <title>Match Import and GnuCash accounts window before assigning &app; accounts to the imported account names</title>
    <screenshot>
      <mediaobject>
        <imageobject role="html">
          <imagedata fileref="figures/import-multisplit-match-import-account-001.png" format="PNG"
                   srccredit="David Cousens" width="510px" />
        </imageobject>
        <imageobject role="fo">
          <imagedata fileref="figures/import-multisplit-match-import-account-001.png" format="PNG"
                   srccredit="David Cousens" />
        </imageobject>
      </mediaobject>
    </screenshot>
    </figure>
    <para>To select the appropriate &app; accounts either double click on a row or select the row and click on the <guibutton>Change GnuCash Account</guibutton>
      button. An <guilabel>Select Account</guilabel> dialog will then open allowing you to select the required account in the &app; account heirarchy. In this example
      the account names are the same but this may not be the case when importing data exported from other programs. The "Asset:Current Assets:Savings Account SGD" does not
      exist in the default account heirarchy and neither does the specific stock account. The <guilabel>Select Account</guilabel> dialog has a <guibutton>New Account</guibutton>
      button which will allow you to add any accounts required which are not already present in the &app; account heirarchy. This account mapping will be used in all
      future imports to this data file/book and the dialog will not appear again unless future imported data contains an unmapped account name. Once all imported account
      names have been matched to an account in the &app; account heirarchy as shown in <xref linkend='import-multisplit-match-import-account-002'></xref>,
      click on the <guibutton>Next</guibutton> button.
    </para>
    <figure id='import-multisplit-match-import-account-002' pgwide="1">
    <title>Match Import and GnuCash accounts window before assigning &app; accounts to the imported account names</title>
    <screenshot>
      <mediaobject>
        <imageobject role="html">
          <imagedata fileref="figures/import-multisplit-match-import-account-002.png" format="PNG"
                   srccredit="David Cousens" width="510px" />
        </imageobject>
        <imageobject role="fo">
          <imagedata fileref="figures/import-multisplit-match-import-account-002.png" format="PNG"
                   srccredit="David Cousens" />
        </imageobject>
      </mediaobject>
    </screenshot>
    </figure>
    <para>The next screen is informational. Clicking <guibutton>Next</guibutton>will then bring up the Import Transaction Matcher shown in
      <xref linkend='import-multisplit-match-transactions'></xref>. The purpose of this process is to check the assignment of the trasnfer
      account to the imported data. In this case the imported records specified the transfer accounts for each split in the transaction
      with the exception of the transaction transferring funds from the Singapore currency Savings account.
    </para>
    <note><para>As indicated the transaction as imported is unbalanced.This is currently a bug in the import of currency transfers and the
      imbalance amount should have been covered by the currency conversion rate. To correct this at present you have to manually edit the
      exchange rate by editing the transaction values for each split back to the correct value for that currency. E.g in the AUD account
      both splits have to be set to $10000 and in the SGD account both splits set to 9440.20. This brings up the currency conversion window
      allowing you to enter the correct currency conversion factor. In this case this is the inverse of the price in the import record,
      i.e 47201/(2799+47201). Another alternative is to convert any prices in the import data with a rational number format to a decimal
      number. This will then import correctly.</para>
    </note> <!--FIXME At present this illustrates a problem with the import of currency transfer data prices Bug 797133  DRC-->
    <figure id='import-multisplit-match-transactions' pgwide="1">
    <title>Match Import and GnuCash accounts window before assigning &app; accounts to the imported account names</title>
    <screenshot>
      <mediaobject>
        <imageobject role="html">
          <imagedata fileref="figures/import-multisplit-Match-Transactions.png" format="PNG"
                   srccredit="David Cousens" width="510px" />
        </imageobject>
        <imageobject role="fo">
          <imagedata fileref="figures/import-multisplit-Match-Transactions.png" format="PNG"
                   srccredit="David Cousens" />
        </imageobject>
      </mediaobject>
    </screenshot>
    </figure>
    <para>When transfer accounts have been assigned to all transactions in the IMport Transaction Matcher (i.e. the background color of
      all rows is light green), click on the <guibutton>Apply</guibutton> button to complete the import of the data. If you leave any transaction
      without a transfer account assigned (gold background color for the row) it will be imported to an Imbalance account in the currency
      of the book. The presence of transactions to an Imbalance account is intended to flag that the transaction is unbalanced and needs
      to be corrected manually. Such transactions should be corrected as required.
    </para>
  </sect1>
</chapter>
